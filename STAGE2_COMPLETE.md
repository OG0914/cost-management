# é˜¶æ®µ 2 å¼€å‘å®Œæˆ âœ…

## å·²å®ŒæˆåŠŸèƒ½

### åç«¯åŠŸèƒ½
- âœ… ç”¨æˆ·æ•°æ®æ¨¡å‹ï¼ˆUser.jsï¼‰
- âœ… è®¤è¯æ§åˆ¶å™¨ï¼ˆç™»å½•ã€æ³¨å†Œã€è·å–ç”¨æˆ·ä¿¡æ¯ã€ä¿®æ”¹å¯†ç ï¼‰
- âœ… è®¤è¯è·¯ç”±ï¼ˆ/api/authï¼‰
- âœ… è§’è‰²æƒé™æ£€æŸ¥ä¸­é—´ä»¶
- âœ… ç®¡ç†å‘˜è´¦å·åˆ›å»ºè„šæœ¬

### å‰ç«¯åŠŸèƒ½
- âœ… ç™»å½•é¡µé¢ï¼ˆæµ…ç™½åº•è‰²ï¼Œå±…ä¸­è®¾è®¡ï¼‰
- âœ… è®¤è¯çŠ¶æ€ç®¡ç†ï¼ˆPinia Storeï¼‰
- âœ… Token ç®¡ç†å·¥å…·
- âœ… ä»ªè¡¨ç›˜é¡µé¢
- âœ… è·¯ç”±å®ˆå«ï¼ˆè‡ªåŠ¨è·³è½¬ï¼‰

## ğŸ¨ ç™»å½•é¡µé¢è®¾è®¡

æŒ‰ç…§ä½ çš„è¦æ±‚å®ç°ï¼š
- âœ… æµ…ç™½åº•è‰²ï¼ˆ#f5f7faï¼‰
- âœ… ç™»å½•æ–¹æ¡†æ•´ä½“å±…ä¸­
- âœ… ç”¨æˆ·ç™»å½•æ ‡é¢˜ + çŸ¢é‡å›¾æ ‡ï¼ˆUser å›¾æ ‡ï¼‰
- âœ… ç”¨æˆ·åæ ‡ç­¾ + é•¿è¾“å…¥æ¡†
- âœ… å¯†ç æ ‡ç­¾ + é•¿è¾“å…¥æ¡†
- âœ… ç™»å½•æŒ‰é’®ï¼ˆè“è‰²åº•è‰² #409EFFï¼Œä¸è¾“å…¥æ¡†ç­‰å®½ï¼‰

## ğŸ” æµ‹è¯•è´¦å·

**ç®¡ç†å‘˜è´¦å·ï¼š**
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`
- è§’è‰²ï¼šç®¡ç†å‘˜

## ğŸš€ å¦‚ä½•æµ‹è¯•

### 1. ç¡®ä¿åç«¯è¿è¡Œ
```bash
cd backend
npm start
```

### 2. ç¡®ä¿å‰ç«¯è¿è¡Œ
```bash
cd frontend
npm run dev
```

### 3. è®¿é—®ç™»å½•é¡µé¢
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:5173

ç³»ç»Ÿä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢

### 4. ç™»å½•æµ‹è¯•
1. è¾“å…¥ç”¨æˆ·åï¼š`admin`
2. è¾“å…¥å¯†ç ï¼š`admin123`
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
4. ç™»å½•æˆåŠŸåä¼šè·³è½¬åˆ°ä»ªè¡¨ç›˜é¡µé¢

### 5. åŠŸèƒ½æµ‹è¯•
- âœ… ç™»å½•æˆåŠŸåæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
- âœ… å¯ä»¥é€€å‡ºç™»å½•
- âœ… é€€å‡ºåè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ
- âœ… æœªç™»å½•è®¿é—®ä»ªè¡¨ç›˜ä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ
- âœ… å·²ç™»å½•è®¿é—®ç™»å½•é¡µä¼šè‡ªåŠ¨è·³è½¬åˆ°ä»ªè¡¨ç›˜

## ğŸ“ æ–°å¢æ–‡ä»¶

### åç«¯
```
backend/
â”œâ”€â”€ models/
â”‚   â””â”€â”€ User.js                    âœ… ç”¨æˆ·æ•°æ®æ¨¡å‹
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ authController.js          âœ… è®¤è¯æ§åˆ¶å™¨
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ authRoutes.js              âœ… è®¤è¯è·¯ç”±
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ roleCheck.js               âœ… è§’è‰²æƒé™æ£€æŸ¥
â””â”€â”€ scripts/
    â”œâ”€â”€ createAdmin.js             âœ… åˆ›å»ºç®¡ç†å‘˜
    â””â”€â”€ resetAdmin.js              âœ… é‡ç½®ç®¡ç†å‘˜
```

### å‰ç«¯
```
frontend/
â””â”€â”€ src/
    â”œâ”€â”€ views/
    â”‚   â”œâ”€â”€ Login.vue              âœ… ç™»å½•é¡µé¢
    â”‚   â””â”€â”€ Dashboard.vue          âœ… ä»ªè¡¨ç›˜
    â”œâ”€â”€ store/
    â”‚   â””â”€â”€ auth.js                âœ… è®¤è¯çŠ¶æ€ç®¡ç†
    â””â”€â”€ utils/
        â””â”€â”€ auth.js                âœ… Token ç®¡ç†å·¥å…·
```

## ğŸ¯ æƒé™ç³»ç»Ÿ

ç³»ç»Ÿæ”¯æŒ 6 ç§ç”¨æˆ·è§’è‰²ï¼š

| è§’è‰² | ä»£ç  | æƒé™è¯´æ˜ |
|------|------|----------|
| ç®¡ç†å‘˜ | admin | å…¨éƒ¨æƒé™ |
| é‡‡è´­äººå‘˜ | purchaser | åŸæ–™ç®¡ç† |
| ç”Ÿäº§äººå‘˜ | producer | å·¥åºç®¡ç† |
| å®¡æ ¸äººå‘˜ | reviewer | æŠ¥ä»·å•å®¡æ ¸ |
| ä¸šåŠ¡å‘˜ | salesperson | æŠ¥ä»·å•ç®¡ç† |
| åªè¯»ç”¨æˆ· | readonly | ä»…æŸ¥çœ‹ |

## ğŸ”§ API æ¥å£

### è®¤è¯æ¥å£

**ç™»å½•**
```
POST /api/auth/login
Body: { username, password }
Response: { success, data: { token, user }, message }
```

**æ³¨å†Œ**
```
POST /api/auth/register
Body: { username, password, role, real_name?, email? }
Response: { success, data: { id }, message }
```

**è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯**
```
GET /api/auth/me
Headers: Authorization: Bearer {token}
Response: { success, data: { user }, message }
```

**ä¿®æ”¹å¯†ç **
```
POST /api/auth/change-password
Headers: Authorization: Bearer {token}
Body: { oldPassword, newPassword }
Response: { success, message }
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¯†ç å®‰å…¨**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ç«‹å³ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. **Token æœ‰æ•ˆæœŸ**ï¼šé»˜è®¤ 7 å¤©ï¼Œå¯åœ¨ .env ä¸­é…ç½®
3. **JWT å¯†é’¥**ï¼šè¯·ä¿®æ”¹ .env ä¸­çš„ JWT_SECRET ä¸ºæ›´å®‰å…¨çš„å¯†é’¥

## ğŸ‰ ä¸‹ä¸€æ­¥

é˜¶æ®µ 2 å·²å®Œæˆï¼ç°åœ¨ä½ å¯ä»¥ï¼š

1. **æµ‹è¯•ç™»å½•åŠŸèƒ½**
2. **åˆ›å»ºæ›´å¤šæµ‹è¯•è´¦å·**ï¼ˆä½¿ç”¨æ³¨å†Œæ¥å£ï¼‰
3. **å¼€å§‹é˜¶æ®µ 3**ï¼šåŸºç¡€æ•°æ®ç®¡ç†æ¨¡å—ï¼ˆæ³•è§„ã€å‹å·ã€åŸæ–™ã€å·¥åºã€åŒ…æï¼‰

å‡†å¤‡å¥½åå‘Šè¯‰æˆ‘å¼€å§‹é˜¶æ®µ 3 