# 自定义利润功能测试说明

## 测试环境

- **测试页面：** 报价单新增、报价单详情
- **测试日期：** 2025-11-10

## 测试步骤

### 测试1：报价单新增页面

#### 步骤

1. 进入报价单新增页面
2. 选择法规类别和型号配置
3. 填写客户信息
4. 选择销售类型（内销或外销）
5. 填写数量
6. 点击"计算成本"按钮
7. 滚动到"利润区间报价"部分
8. 在"自定义利润"栏位输入利润率（例如：0.35）
9. 观察报价是否正确显示

#### 预期结果

- 输入利润率后，立即显示计算结果
- 报价格式：`报价：$XX.XX CNY`（绿色高亮）
- 计算公式正确：报价 = 基础价格 × (1 + 利润率)

#### 测试数据

| 基础价格 | 利润率 | 预期报价 |
|---------|--------|---------|
| $15.00 | 0.05 | $15.75 |
| $15.00 | 0.20 | $18.00 |
| $15.00 | 0.35 | $20.25 |
| $15.00 | 0.50 | $22.50 |
| $15.00 | 1.00 | $30.00 |
| $15.00 | 2.00 | $45.00 |

---

### 测试2：报价单详情页面

#### 步骤

1. 打开已有的报价单详情
2. 滚动到"利润区间报价"部分
3. 在"自定义利润"栏位输入利润率
4. 观察报价是否正确显示

#### 预期结果

- 与新增页面相同的功能和显示效果

---

### 测试3：边界值测试

#### 测试用例

| 测试项 | 输入值 | 预期结果 |
|--------|--------|---------|
| 最小值 | 0 | 显示基础价格 |
| 最大值 | 10 | 显示基础价格 × 11 |
| 小数精度 | 0.12 | 正确计算并显示 |
| 空值 | 清空输入框 | 不显示报价 |
| 负数 | -0.1 | 不允许输入 |
| 超过最大值 | 11 | 自动限制为10 |

---

### 测试4：交互测试

#### 测试场景

1. **修改利润率**
   - 输入利润率：0.20
   - 观察报价显示
   - 修改利润率：0.35
   - 观察报价是否更新

2. **清空利润率**
   - 输入利润率：0.20
   - 清空输入框
   - 观察报价是否消失

3. **重新计算成本**
   - 输入利润率：0.20
   - 修改数量
   - 重新计算成本
   - 观察自定义利润是否需要重新输入

---

### 测试5：不同销售类型

#### 内销

- 基础价格：¥125.00
- 利润率：0.20
- 预期报价：¥150.00 CNY

#### 外销

- 基础价格：$15.00
- 利润率：0.20
- 预期报价：$18.00 USD

---

### 测试6：样式测试

#### 检查项

- [ ] 自定义利润区域有浅灰色背景
- [ ] 与利润区间表格有适当间距
- [ ] 输入框宽度合适（200px）
- [ ] 报价以绿色高亮显示
- [ ] 字体大小和颜色符合设计
- [ ] 响应式布局正常

---

### 测试7：错误处理

#### 测试场景

1. **未计算成本**
   - 不填写数量
   - 不点击"计算成本"
   - 尝试输入利润率
   - 预期：不显示报价或显示提示

2. **无效输入**
   - 输入非数字字符
   - 预期：输入框自动过滤

---

## 测试检查清单

### 功能测试

- [ ] 利润率输入正常
- [ ] 报价计算正确
- [ ] 实时更新正常
- [ ] 清空功能正常
- [ ] 边界值处理正确

### 界面测试

- [ ] 布局合理
- [ ] 样式美观
- [ ] 颜色搭配协调
- [ ] 字体大小合适
- [ ] 响应式正常

### 兼容性测试

- [ ] Chrome浏览器正常
- [ ] Firefox浏览器正常
- [ ] Edge浏览器正常
- [ ] Safari浏览器正常

### 性能测试

- [ ] 计算速度快
- [ ] 无卡顿现象
- [ ] 内存占用正常

---

## 已知问题

无

---

## 测试结论

待测试

---

## 测试人员

待填写

---

## 测试日期

待填写
