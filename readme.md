# ğŸ§¾ æˆæœ¬åˆ†æç®¡ç†ç³»ç»Ÿ README

## ä¸€ã€é¡¹ç›®ç®€ä»‹

è½»é‡çº§ Web æˆæœ¬åˆ†æç®¡ç†ç³»ç»Ÿï¼Œç”¨äºå–ä»£äººå·¥å®¡æ ¸çš„ Excel æˆæœ¬è¡¨ï¼Œå®ç°è‡ªåŠ¨è®¡ç®—ã€è‡ªåŠ¨æé†’ã€å¯è§†åŒ–æŠ¥è¡¨å¯¼å‡ºã€‚  
ç³»ç»Ÿå¸®åŠ©å®¡æ ¸äººï¼ˆKï¼‰é«˜æ•ˆå¤æ ¸å£ç½©å‹å·çš„åŸæ–™ã€å·¥ä»·ã€åŒ…æåŠæŠ¥ä»·è®¡ç®—é€»è¾‘ã€‚

---

## äºŒã€æŠ€æœ¯æ ˆ

| å±‚çº§   | æŠ€æœ¯                                                    |
| ------ | ------------------------------------------------------- |
| å‰ç«¯   | Vue3 + Element Plus + TailwindCSS + Axios + Pinia + Vue Router |
| åç«¯   | Node.js + Express + bcrypt + jsonwebtoken + multer      |
| æ•°æ®åº“ | better-sqlite3                                          |
| æ–‡ä»¶å¯¼å‡º | ExcelJS                                               |

---

## ä¸‰ã€ç³»ç»Ÿç›®å½•ç»“æ„

```bash
cost-analysis-system/
â”‚
â”œâ”€â”€ backend/                            # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ server.js                       # Express ä¸»å…¥å£
â”‚   â”œâ”€â”€ db/                             # æ•°æ®åº“ç›®å½•
â”‚   â”‚   â”œâ”€â”€ database.js                 # better-sqlite3 åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ seedData.sql                # åˆå§‹å»ºè¡¨è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ migrations/                 # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”‚   â””â”€â”€ cost_analysis.db            # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ routes/                         # è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ authRoutes.js               # ç™»å½•ä¸æƒé™
â”‚   â”‚   â”œâ”€â”€ costRoutes.js               # æˆæœ¬åˆ†æä¸æŠ¥ä»·é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ materialRoutes.js           # åŸæ–™æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ processRoutes.js            # å·¥åºæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ regulationRoutes.js         # æ³•è§„ç±»åˆ«æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ modelRoutes.js              # å‹å·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ configRoutes.js             # ç³»ç»Ÿé…ç½®æ¨¡å—
â”‚   â”‚   â””â”€â”€ standardCostRoutes.js       # æ ‡å‡†æˆæœ¬æ¨¡å—
â”‚   â”œâ”€â”€ controllers/                    # æ§åˆ¶å™¨ï¼šä¸šåŠ¡é€»è¾‘å¤„ç†å±‚
â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”œâ”€â”€ costController.js
â”‚   â”‚   â”œâ”€â”€ materialController.js
â”‚   â”‚   â”œâ”€â”€ processController.js
â”‚   â”‚   â”œâ”€â”€ regulationController.js
â”‚   â”‚   â”œâ”€â”€ modelController.js
â”‚   â”‚   â”œâ”€â”€ configController.js
â”‚   â”‚   â””â”€â”€ standardCostController.js
â”‚   â”œâ”€â”€ models/                         # æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”œâ”€â”€ Regulation.js
â”‚   â”‚   â”œâ”€â”€ Model.js
â”‚   â”‚   â”œâ”€â”€ Material.js
â”‚   â”‚   â”œâ”€â”€ PackagingConfig.js
â”‚   â”‚   â”œâ”€â”€ PackagingMaterial.js
â”‚   â”‚   â”œâ”€â”€ ProcessConfig.js
â”‚   â”‚   â”œâ”€â”€ Quotation.js
â”‚   â”‚   â”œâ”€â”€ QuotationItem.js
â”‚   â”‚   â”œâ”€â”€ QuotationCustomFee.js
â”‚   â”‚   â”œâ”€â”€ StandardCost.js
â”‚   â”‚   â””â”€â”€ SystemConfig.js
â”‚   â”œâ”€â”€ utils/                          # å·¥å…·å‡½æ•°ä¸å…¬å¼è®¡ç®—
â”‚   â”‚   â”œâ”€â”€ costCalculator.js           # æˆæœ¬è®¡ç®—æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ excelGenerator.js           # Excel ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ excelParser.js              # Excel è§£æ
â”‚   â”‚   â”œâ”€â”€ queryBuilder.js             # æŸ¥è¯¢æ„å»ºå™¨
â”‚   â”‚   â””â”€â”€ response.js                 # å“åº”æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ middleware/                     # æƒé™éªŒè¯ä¸å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ errorHandler.js
â”‚   â”‚   â””â”€â”€ roleCheck.js
â”‚   â”œâ”€â”€ scripts/                        # ç®¡ç†è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ createAdmin.js
â”‚   â”‚   â””â”€â”€ resetAdmin.js
â”‚   â”œâ”€â”€ uploads/                        # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚   â””â”€â”€ tests/                          # æµ‹è¯•ç›®å½•
â”‚
â”œâ”€â”€ frontend/                           # å‰ç«¯ï¼ˆVue3 + Element Plusï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.js                     # Vue å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ App.vue                     # æ ¹ç»„ä»¶ï¼ˆå«ä¾§è¾¹å¯¼èˆªï¼‰
â”‚   â”‚   â”œâ”€â”€ router/                     # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ store/                      # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ components/                 # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/                      # é¡µé¢æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue               # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue           # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue                # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ config/                 # ç³»ç»Ÿé…ç½®æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SystemConfig.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ process/                # å·¥åºç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProcessManage.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ cost/                   # æˆæœ¬ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CostAdd.vue         # æ–°å¢/ç¼–è¾‘æˆæœ¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CostRecords.vue     # æˆæœ¬è®°å½•
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CostDetail.vue      # æˆæœ¬è¯¦æƒ…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CostCompare.vue     # æˆæœ¬æ¯”è¾ƒ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StandardCost.vue    # æ ‡å‡†æˆæœ¬ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ material/               # åŸæ–™ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MaterialManage.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ packaging/              # åŒ…æç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PackagingManage.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ regulation/             # æ³•è§„ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RegulationManage.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ model/                  # å‹å·ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ModelManage.vue
â”‚   â”‚   â”‚   â””â”€â”€ user/                   # ç”¨æˆ·ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚       â””â”€â”€ UserManage.vue
â”‚   â”‚   â”œâ”€â”€ styles/                     # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ images/                     # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                               # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ prd.md                          # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ flowchart.md                    # æµç¨‹å›¾
â”‚   â””â”€â”€ *.md                            # å…¶ä»–æ–‡æ¡£
â”‚
â””â”€â”€ README.md
```

---

## å››ã€å¯¼èˆªä¸åŠŸèƒ½æ¨¡å—è®¾è®¡

ä¾§è¾¹å¯¼èˆªæ é‡‡ç”¨ **å±‚çº§æŠ˜å ç»“æ„**ï¼Œä¿æŒè§†è§‰ç®€æ´ã€åŠŸèƒ½æ¸…æ™°ï¼š

```
ğŸ“Š ä»ªè¡¨ç›˜
â”œâ”€ æˆæœ¬ç®¡ç†
â”‚   â”œâ”€ æ–°å¢æˆæœ¬
â”‚   â”œâ”€ æˆæœ¬è®°å½•
â”‚   â”œâ”€ æˆæœ¬æ¯”è¾ƒ
â”‚   â””â”€ æ ‡å‡†æˆæœ¬
â”œâ”€ æ³•è§„ç®¡ç†
â”œâ”€ å‹å·ç®¡ç†
â”œâ”€ åŸæ–™ç®¡ç†
â”œâ”€ åŒ…æç®¡ç†
â”œâ”€ å·¥åºç®¡ç†
â”œâ”€ ç³»ç»Ÿé…ç½®
â””â”€ ç”¨æˆ·ç®¡ç†
```

### æ¨¡å—è¯´æ˜

| æ¨¡å—                   | åŠŸèƒ½æè¿°                                                                 | çŠ¶æ€     |
| ---------------------- | ------------------------------------------------------------------------ | -------- |
| **ä»ªè¡¨ç›˜ Dashboard**   | ç³»ç»Ÿé¦–é¡µï¼Œå¿«é€Ÿå¯¼èˆªå…¥å£                                                   | âœ… å·²å®ç° |
| **æˆæœ¬ç®¡ç† Cost**      | æ ¸å¿ƒæ¨¡å—ï¼šæ–°å¢æŠ¥ä»·ã€æˆæœ¬è®°å½•æŸ¥è¯¢ã€æˆæœ¬æ¯”è¾ƒã€æ ‡å‡†æˆæœ¬ç®¡ç†                 | âœ… å·²å®ç° |
| **æ³•è§„ç®¡ç† Regulation**| ç®¡ç†æ³•è§„ç±»åˆ«ï¼ˆNIOSHã€GBã€CEç­‰ï¼‰                                          | âœ… å·²å®ç° |
| **å‹å·ç®¡ç† Model**     | ç®¡ç†äº§å“å‹å·ï¼Œç»‘å®šæ³•è§„ç±»åˆ«                                               | âœ… å·²å®ç° |
| **åŸæ–™ç®¡ç† Material**  | ç®¡ç†åŸæ–™æ˜ç»†ï¼ˆå“åã€ç”¨é‡ã€å•ä»·ã€å¸åˆ«ï¼‰ï¼Œæ”¯æŒExcelå¯¼å…¥                    | âœ… å·²å®ç° |
| **åŒ…æç®¡ç† Packaging** | ç®¡ç†åŒ…è£…é…ç½®åŠåŒ…ææ˜ç»†                                                   | âœ… å·²å®ç° |
| **å·¥åºç®¡ç† Process**   | ç»´æŠ¤å·¥åºåŠå•ä»·é…ç½®                                                       | âœ… å·²å®ç° |
| **ç³»ç»Ÿé…ç½® Config**    | ç®¡ç†ç®¡é”€ç‡ã€ç¨ç‡ã€æ±‡ç‡ã€åˆ©æ¶¦åŒºé—´ç­‰ç³»ç»Ÿå‚æ•°                               | âœ… å·²å®ç° |
| **ç”¨æˆ·ç®¡ç† User**      | ç®¡ç†å…­ç§è´¦å·ç±»å‹åŠæƒé™                                                   | âœ… å·²å®ç° |
| **æŠ¥è¡¨å¯¼å‡º Report**    | å¯¼å‡ºExcelæ ¼å¼æŠ¥ä»·å•                                                      | ğŸš§ å¾…å¼€å‘ |
| **å®¡æ ¸æµç¨‹ Review**    | å®¡æ ¸äººæ‰¹æ³¨ã€å·®å¼‚é«˜äº®ã€çŠ¶æ€æµè½¬                                           | ğŸš§ å¾…å¼€å‘ |

---

## äº”ã€ç³»ç»Ÿä¸»è¦æµç¨‹

```text
[ç™»å½•ä¸æƒé™éªŒè¯]
        â†“
[é€‰æ‹©æ³•è§„ç±»åˆ«ä¸å‹å·]
        â†“
[é€‰æ‹©åŒ…è£…é…ç½®]
        â†“
[ç³»ç»Ÿè‡ªåŠ¨å¸¦å‡ºæ ‡å‡†åŸæ–™ + å·¥åº + åŒ…æ]
        â†“
[ä¸šåŠ¡å¡«å†™å®¢æˆ·åã€åœ°åŒºã€æ•°é‡ã€è¿è´¹]
        â†“
[è‡ªåŠ¨è®¡ç®—ï¼šæˆæœ¬ä»· â†’ ç®¡é”€ä»· â†’ åˆ©æ¶¦ä»·]
        â†“
[ä¿å­˜æŠ¥ä»·å•]
        â†“
[å¯¼å‡ºæŠ¥ä»·å•ï¼ˆExcelï¼‰]
```

---

## å…­ã€é¡¹ç›®å¯åŠ¨

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend
npm install
npm run dev    # å¼€å‘æ¨¡å¼ï¼ˆnodemonï¼‰
# æˆ–
npm start      # ç”Ÿäº§æ¨¡å¼

# å¯åŠ¨å‰ç«¯é¡¹ç›®
cd frontend
npm install
npm run dev
```

è®¿é—®å‰ç«¯ï¼š[http://localhost:5173](http://localhost:5173/)  
åç«¯æ¥å£ï¼š[http://localhost:3000](http://localhost:3000/)  
å¥åº·æ£€æŸ¥ï¼š[http://localhost:3000/api/health](http://localhost:3000/api/health)

---

## ä¸ƒã€å¼€å‘åŸåˆ™æ‘˜è¦

- æ¨¡å—æ¸…æ™°ã€èŒè´£å•ä¸€ï¼ˆæ¯ä¸ªæ–‡ä»¶ä»…å¤„ç†ä¸€ç±»é€»è¾‘ï¼‰
- å¯¼å…¥ä¸å¯¼å‡ºæµç¨‹æ ‡å‡†åŒ–ï¼ˆæ”¯æŒExcelå¯¼å…¥ã€å¯¼å‡ºï¼‰
- æ•°æ®åº“è½»é‡åµŒå…¥ï¼Œæ— éœ€é¢å¤–æœåŠ¡ä¾èµ–
- æˆæœ¬è®¡ç®—å…¬å¼å…¨åœ¨åç«¯å°è£…ï¼ˆé˜²æ­¢å‰ç«¯å…¬å¼è¢«è¯¯åˆ ï¼‰
- é¡µé¢å¸ƒå±€ä»¥ä¾§è¾¹å¯¼èˆªä¸ºä¸»ï¼Œå¡ç‰‡å¼æ“ä½œç›´è§‚ç®€æ´

---

## å…«ã€å¾…å¼€å‘åŠŸèƒ½

- [ ] å®¡æ ¸æµç¨‹ï¼ˆçŠ¶æ€æµè½¬ã€æ‰¹æ³¨ã€å·®å¼‚é«˜äº®ï¼‰
- [ ] æŠ¥è¡¨å¯¼å‡ºé¡µé¢ï¼ˆReportExport.vueï¼‰
- [ ] PDF å¯¼å‡ºæ”¯æŒ
- [ ] ä»ªè¡¨ç›˜ç»Ÿè®¡å›¾è¡¨ï¼ˆæŠ¥ä»·æ¬¡æ•°ã€å®¡æ ¸æ—¶é•¿ã€æˆæœ¬è¶‹åŠ¿ï¼‰
