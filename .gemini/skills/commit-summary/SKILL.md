---
name: commit-summary
description: "当用户请求总结修改内容或准备 commit 时触发。将整个对话中的代码修改总结为单行中文描述，适用于 git commit message。"
---

# Commit 摘要生成器

## 触发条件
当用户说出以下关键词时自动触发：
- "总结修改"
- "commit"
- "提交"
- "总结一下"
- "改了什么"

## 执行流程
1. 回顾整个对话中所有的代码修改操作
2. 识别修改的文件、功能模块和变更类型（新增/修改/删除/修复/优化）
3. 提取核心变更点，忽略次要细节
4. 按照规范格式生成单行中文摘要

## 输出格式

### 规范
- **必须单行**：不允许换行
- **必须中文**：使用简洁的中文描述
- **长度限制**：50-80 个字符为宜
- **格式模板**：`[类型] 模块: 具体变更描述`

### 类型标签
| 标签 | 含义 |
|------|------|
| feat | 新功能 |
| fix | 修复 Bug |
| style | 样式调整 |
| refactor | 重构代码 |
| perf | 性能优化 |
| docs | 文档更新 |
| chore | 构建/配置变更 |

### 输出示例
```
[feat] 包材管理: 新增批量删除功能，优化卡片布局样式
```

```
[fix] CostAdd: 修复表单验证失败时错误提示不显示的问题
```

```
[refactor] 通用组件: 提取 StatusBadge 和 ManagementCard 为可复用组件
```

## 注意事项
- 如果修改涉及多个模块，用逗号分隔主要变更
- 优先描述用户可感知的功能变化
- 避免使用技术术语，用业务语言描述
